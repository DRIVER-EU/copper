<simplebar>
  <v-toolbar dense flat v-if="widget.content">
    <v-toolbar-title>CAP Messages</v-toolbar-title>
    <v-spacer></v-spacer>
    <v-btn icon @click="getCapItems">
      <v-icon>cached</v-icon>
    </v-btn>
    <v-menu bottom left>
      <v-btn slot="activator" icon>
        <v-tooltip bottom>
          <v-icon slot="activator">sort</v-icon>
          <span>sort messages</span>
        </v-tooltip>
      </v-btn>
      <v-list>
        <v-list-tile v-for="option in sortOptions" :key="option">
          <v-list-tile-title
            :class="{selectedSortOption: option === sortOrder}"
            >{{ option }}</v-list-tile-title
          >
        </v-list-tile>
      </v-list>
    </v-menu>
    <v-divider vertical style="margin:5px"></v-divider>
    <v-menu bottom left>
      <v-btn slot="activator" icon>
        <v-tooltip bottom>
          <v-icon slot="activator">filter_list</v-icon>
          <span>filter messages</span>
        </v-tooltip>
      </v-btn>
      <v-list>
        <v-list-tile v-for="option in sortOptions" :key="option">
          <v-list-tile-title
            :class="{selectedSortOption: option === sortOrder}"
            >{{ option }}</v-list-tile-title
          >
        </v-list-tile>
      </v-list>
    </v-menu>
    <v-divider vertical style="margin:5px"></v-divider>
    <v-menu bottom left>
      <v-btn slot="activator" icon>
        <v-tooltip bottom>
          <v-icon slot="activator">drag_handle</v-icon>
          <span>select fields</span>
        </v-tooltip>
      </v-btn>
      <v-list>
        <v-list-tile v-for="option in sortOptions" :key="option">
          <v-list-tile-title
            :class="{selectedSortOption: option === sortOrder}"
            >{{ option }}</v-list-tile-title
          >
        </v-list-tile>
      </v-list>
    </v-menu>
  </v-toolbar>

  <v-list>
    <template v-for="(item, index) in capObjects">
      <v-list-tile
        :key="item.identifier"
        avatar
        class="cap-object-tile"
        @click="capSelect(item)"
      >
        <v-list-tile-avatar>
          <img :src="item.avatar" />
        </v-list-tile-avatar>

        <v-list-tile-content>
          <v-list-tile-title v-html="item.sender"></v-list-tile-title>
          <v-list-tile-sub-title
            >{{ item.status }} {{ item.info.urgency }}
            {{ item.info.severity }}
            {{ item.info.certainty }}
          </v-list-tile-sub-title>
        </v-list-tile-content>
      </v-list-tile>
    </template>
  </v-list>
</simplebar>
